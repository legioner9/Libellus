'use strict';

const artus = (communis, fn) => {

  const exitus = function(...args) {
    const ostium = {
      fn,
      args,
      communis,
    };
    communis.os.prototype.getOstium = () => ostium;
    communis.internus(exitus, communis, fn, ...args);
  };

  for (const key in communis.objProto) {
    if (communis.objProto.hasOwnProperty(key)) communis.os.prototype[key] = communis.objProto[key];
  }

  Object.setPrototypeOf(exitus, communis.os.prototype);

  return exitus;
};

module.exports = {
  artus,
};
