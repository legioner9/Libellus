'use strict';

const { propObj, generativusFucus } = require('artus');

propObj.returnBfn = (bfn, closureForFn) => {
  if (!closureForFn.flags.kill) {
    return bfn;
  } else return () => undefined;
};

propObj.comutClosure = (closureForFn) => {
  if (closureForFn.context.counter === closureForFn.context.max) closureForFn.flags.kill = true;
  else closureForFn.context.counter++;
  return closureForFn;
};

propObj.closureForFn.context.max = 2;

const fn = function(...args) {
  console.dir({ args, this: this });
};

// Use
debugger
const fucus = generativusFucus(propObj, fn);
fucus('a');// call
console.log('primus', fucus.closureForFn.context.counter);
fucus('b');// return undefined
console.log('secundus', fucus.closureForFn.context.counter);
fucus('c');
console.log('tertius', fucus.closureForFn.context.counter);

debugger
