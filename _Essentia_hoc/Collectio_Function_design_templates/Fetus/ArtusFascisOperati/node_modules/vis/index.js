'use strict';

const fascis = {};

const operati = {
  closureForFn: {},
  thisForFn: {},
};

const artus = (fn) => {

  const operatiMethods = {
    printFn() {
      console.dir({ operati, fascis });
      return this;
    },
  };

  const exitus = function(...args) {

    const bfn = fn.bind(operati.thisForFn);

    const properties = {
      bfn: bfn,
      args: args,
      closureForFn: operati.closureForFn,
      thisForFn: operati.thisForFn,
    };

    exitus.getOperati = () => properties;

    operati.closureForFn = fascis.fascisMethod(operati.closureForFn);

    bfn(...args);
  };

  Object.assign(exitus, operatiMethods);

  return exitus;

};

artus.fascis = fascis;


module.exports = { artus };
